<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>SupportSystem - Gest√£o de Chamados</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#050816" />
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="stylesheet" href="ui/style.css" />
</head>
<body>

<div class="auth-wrapper" id="authShell">
    <section class="auth-card" id="loginCard">
        <div class="auth-header">
            <h1 class="auth-title">SupportSystem</h1>
            <p class="auth-subtitle">Acesse sua central inteligente para abrir chamados e acompanhar recomenda√ß√µes da IA.</p>
        </div>
        <form id="loginForm" class="auth-form" novalidate>
            <label class="field-label" for="loginEmail">E-mail corporativo</label>
            <input class="field" type="email" id="loginEmail" name="email" placeholder="nome@empresa.com" required />
            <label class="field-label" for="loginPassword">Senha</label>
            <input class="field" type="password" id="loginPassword" name="senha" autocomplete="current-password" required />

            <button type="submit" class="btn primary full">Entrar</button>
        </form>
        <footer class="auth-footer">
            <p>Precisa de uma conta? <button type="button" class="link-button" id="showRegister">Crie agora</button></p>
        </footer>
        <p class="auth-feedback" id="loginFeedback" role="status"></p>
    </section>

    <section class="auth-card hidden" id="registerCard">
        <div class="auth-header">
            <h1 class="auth-title">Crie seu acesso</h1>
            <p class="auth-subtitle">Cadastre-se para registrar chamados com consentimento em conformidade com a LGPD.</p>
        </div>
        <form id="registerForm" class="auth-form" novalidate>
            <label class="field-label" for="registerName">Nome completo</label>
            <input class="field" type="text" id="registerName" name="nome" placeholder="Maria Silva" required />

            <label class="field-label" for="registerEmail">E-mail corporativo</label>
            <input class="field" type="email" id="registerEmail" name="email" placeholder="nome@empresa.com" required />

            <label class="field-label" for="registerPassword">Senha</label>
            <input class="field" type="password" id="registerPassword" name="senha" autocomplete="new-password" required />

            <label class="consent-label" for="registerConsent">
                <input type="checkbox" id="registerConsent" name="consentimento" />
                <span>Autorizo o tratamento dos meus dados pessoais conforme a pol√≠tica de privacidade.</span>
            </label>

            <button type="submit" class="btn primary full">Cadastrar e entrar</button>
        </form>
        <footer class="auth-footer">
            <p>J√° possui login? <button type="button" class="link-button" id="showLogin">Voltar para entrada</button></p>
        </footer>
        <p class="auth-feedback" id="registerFeedback" role="status"></p>
    </section>
</div>

<div class="app hidden" id="appShell">

    <!-- SIDEBAR (WEB) -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo-circle">S</div>
            <div>
                <h1 class="app-name">SupportSystem</h1>
                <p class="app-subtitle">Suporte com IA</p>
            </div>
        </div>

        <nav class="sidebar-nav">
            <button class="nav-item active" data-page="dashboard">
                <span class="nav-icon">üìä</span> Dashboard
            </button>
            <button class="nav-item" data-page="tickets">
                <span class="nav-icon">üé´</span> Chamados
            </button>
            <button class="nav-item" data-page="knowledge">
                <span class="nav-icon">üìö</span> Base de Conhecimento
            </button>
            <button class="nav-item" data-page="settings">
                <span class="nav-icon">‚öôÔ∏è</span> Configura√ß√µes
            </button>
        </nav>

        <div class="sidebar-footer">
            <p class="sidebar-footer-title">Assistente IA</p>
            <p class="sidebar-footer-text">Sugest√µes autom√°ticas de solu√ß√£o para cada chamado.</p>
        </div>
    </aside>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="main">
        <!-- HEADER -->
        <header class="topbar">
            <div>
                <h2 class="topbar-title">Painel de Chamados</h2>
                <p class="topbar-subtitle">Vis√£o geral do suporte em tempo real</p>
            </div>

            <div class="user-area">
                <div class="user-info">
                    <span class="user-name" id="userNameDisplay">Usu√°rio autenticado</span>
                    <span class="user-role" id="userEmailDisplay">email@empresa.com</span>
                </div>
                <div class="user-avatar" id="userAvatar">US</div>
                <button class="btn ghost small" id="btnLogout" type="button">Sair</button>
            </div>
        </header>

        <!-- DASHBOARD -->
        <section id="page-dashboard" class="page active">
            <div class="cards-grid">
                <article class="card">
                    <p class="card-label">Chamados abertos</p>
                    <p class="card-value" id="metricTotalAbertos">0</p>
                    <p class="card-extra" id="metricCriticos">0 cr√≠ticos ‚Ä¢ 0 em andamento</p>
                </article>

                <article class="card">
                    <p class="card-label">Tempo m√©dio de atendimento</p>
                    <p class="card-value" id="metricTempoMedio">--</p>
                    <p class="card-extra">Meta: &lt; 2h</p>
                </article>

                <article class="card">
                    <p class="card-label">Satisfa√ß√£o do usu√°rio</p>
                    <p class="card-value" id="metricSatisfacao">--</p>
                    <p class="card-extra">Baseado nos √∫ltimos 30 dias</p>
                </article>

                <article class="card card-highlight">
                    <p class="card-label">Sugest√µes da IA</p>
                    <p class="card-value" id="metricSugestoesIa">--</p>
                    <p class="card-extra">Chamados resolvidos com sugest√£o autom√°tica</p>
                </article>
            </div>

            <section class="section">
                <div class="section-header">
                    <h3>Chamados em destaque</h3>
                    <button class="btn ghost" id="btnVerTodos">Ver todos</button>
                </div>

                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>T√≠tulo</th>
                            <th>Solicitante</th>
                            <th>Prioridade</th>
                            <th>Status</th>
                            <th>Categoria</th>
                            <th>SLA alvo</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>1023</td>
                            <td>Erro ao acessar sistema via VPN</td>
                            <td>Maria Silva</td>
                            <td><span class="tag danger">Alta</span></td>
                            <td><span class="tag warning">Em andamento</span></td>
                            <td>Infraestrutura e redes</td>
                            <td>11/10 ‚Ä¢ 09:30</td>
                        </tr>
                        <tr>
                            <td>1018</td>
                            <td>Impressora n√£o responde</td>
                            <td>Carlos Souza</td>
                            <td><span class="tag medium">M√©dia</span></td>
                            <td><span class="tag info">Aguardando usu√°rio</span></td>
                            <td>Suporte ao usu√°rio</td>
                            <td>12/10 ‚Ä¢ 14:00</td>
                        </tr>
                        <tr>
                            <td>1011</td>
                            <td>Usu√°rio sem acesso ao e-mail</td>
                            <td>Ana Paula</td>
                            <td><span class="tag danger">Alta</span></td>
                            <td><span class="tag success">Resolvido</span></td>
                            <td>Aplica√ß√µes</td>
                            <td>10/10 ‚Ä¢ 10:00</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </section>

        <!-- P√ÅGINA CHAMADOS -->
        <section id="page-tickets" class="page">
            <div class="section-header">
                <h3>Meus chamados</h3>
                <div class="section-actions">
                    <select class="field">
                        <option>Todos os status</option>
                        <option>Abertos</option>
                        <option>Em andamento</option>
                        <option>Resolvidos</option>
                    </select>
                    <input class="field" type="search" placeholder="Buscar por t√≠tulo ou n√∫mero..." />
                </div>
            </div>

            <div class="chips">
                <button class="chip chip-active">Todos</button>
                <button class="chip">Cr√≠ticos</button>
                <button class="chip">Hoje</button>
                <button class="chip">√öltimos 7 dias</button>
            </div>

            <div class="ticket-list">
                <article class="ticket-card">
                    <header>
                        <span class="ticket-id">#1023</span>
                        <span class="tag danger">Alta</span>
                    </header>
                    <h4>Erro ao acessar sistema via VPN</h4>
                    <p class="ticket-meta">Aberto por <strong>Maria Silva</strong> ‚Ä¢ H√° 25 min</p>
                    <p class="ticket-ai">
                        üí° <strong>Sugest√£o da IA:</strong> Verificar credenciais de AD, pol√≠tica de acesso e status do servidor TS.
                    </p>
                    <footer>
                        <span class="tag warning">Em andamento</span>
                        <button class="btn small secondary">Ver detalhes</button>
                    </footer>
                </article>

                <article class="ticket-card">
                    <header>
                        <span class="ticket-id">#1019</span>
                        <span class="tag medium">M√©dia</span>
                    </header>
                    <h4>Lentid√£o no sistema de folha</h4>
                    <p class="ticket-meta">Aberto por <strong>Departamento RH</strong> ‚Ä¢ Hoje, 08:12</p>
                    <p class="ticket-ai">
                        üí° <strong>Sugest√£o da IA:</strong> Conferir uso de CPU e mem√≥ria no servidor, al√©m de √≠ndices do banco.
                    </p>
                    <footer>
                        <span class="tag info">Aguardando an√°lise</span>
                        <button class="btn small secondary">Ver detalhes</button>
                    </footer>
                </article>
            </div>
        </section>

        <!-- P√ÅGINA BASE DE CONHECIMENTO -->
        <section id="page-knowledge" class="page">
            <div class="section-header">
                <h3>Base de conhecimento</h3>
                <input class="field" type="search" placeholder="Buscar artigo, palavra-chave..." />
            </div>

            <div class="knowledge-list">
                <article class="knowledge-card">
                    <h4>Acesso remoto seguro (VPN + TS)</h4>
                    <p>Passo a passo para conex√£o remota, melhores pr√°ticas e checklist de problemas comuns.</p>
                    <button class="btn small secondary">Ver artigo</button>
                </article>

                <article class="knowledge-card">
                    <h4>Checklist de lentid√£o em sistemas</h4>
                    <p>Guia r√°pido para identificar se o problema √© esta√ß√£o, rede, servidor ou aplica√ß√£o.</p>
                    <button class="btn small secondary">Ver artigo</button>
                </article>
            </div>
        </section>

        <!-- P√ÅGINA CONFIGURA√á√ïES -->
        <section id="page-settings" class="page">
            <div class="section-header">
                <h3>Configura√ß√µes do usu√°rio</h3>
            </div>

            <div class="settings-grid">
                <div class="settings-card">
                    <h4>Perfil</h4>
                    <label class="field-label">Nome</label>
                    <input class="field" type="text" value="Fernando Menezes" />
                    <label class="field-label">E-mail</label>
                    <input class="field" type="email" value="fernando@example.com" />
                </div>

                <div class="settings-card">
                    <h4>Prefer√™ncias</h4>
                    <label class="field-label">Tema</label>
                    <select class="field">
                        <option>Tema claro</option>
                        <option>Tema escuro</option>
                    </select>

                    <label class="field-label">Notifica√ß√µes</label>
                    <div class="toggle-row">
                        <span>Receber alertas de chamados cr√≠ticos</span>
                        <input type="checkbox" checked />
                    </div>
                    <div class="toggle-row">
                        <span>Resumo di√°rio por e-mail</span>
                        <input type="checkbox" />
                    </div>
                </div>
            </div>

            <div class="settings-card privacy-card">
                    <h4>Privacidade e LGPD</h4>
                    <p>Gerencie consentimento, exporte ou solicite exclus√£o dos seus dados.</p>
                    <div class="toggle-row">
                        <span>Consentimento para tratamento</span>
                        <span class="tag info" id="privacyConsentStatus">Ativo</span>
                    </div>
                    <div class="privacy-actions">
                        <button class="btn secondary" id="btnExportarDados">Exportar dados</button>
                        <button class="btn ghost" id="btnExcluirDados">Excluir tudo</button>
                    </div>
                    <small class="privacy-hint">
                        A exporta√ß√£o gera um relat√≥rio JSON e a exclus√£o remove todos os chamados vinculados.
                    </small>
                </div>
        </section>

    </main>

    <!-- BOT√ÉO FLUTUANTE NOVO CHAMADO -->
    <button class="fab" id="btnNovoChamado">
        <span>+</span>
        <span class="fab-label">Novo chamado</span>
    </button>

    <!-- NAV MOBILE INFERIOR -->
    <nav class="mobile-nav">
        <button class="mobile-nav-item active" data-page="dashboard">üìä<span>Dashboard</span></button>
        <button class="mobile-nav-item" data-page="tickets">üé´<span>Chamados</span></button>
        <button class="mobile-nav-item" data-page="knowledge">üìö<span>Base</span></button>
        <button class="mobile-nav-item" data-page="settings">‚öôÔ∏è<span>Config</span></button>
    </nav>
</div>

<!-- MODAL NOVO CHAMADO -->
<div class="modal-backdrop" id="modalNovoChamado">
    <div class="modal">
        <header class="modal-header">
            <h3>Novo chamado</h3>
            <button class="btn-icon" id="btnFecharModal">‚úï</button>
        </header>
        <form class="modal-body" id="formNovoChamado" novalidate>
            <label class="field-label" for="ticketTitle">T√≠tulo do chamado</label>
            <input class="field" type="text" id="ticketTitle" name="ticketTitle" placeholder="Ex: Erro ao acessar sistema de folha..." required />

            <label class="field-label" for="ticketCategory">Categoria</label>
            <select class="field" id="ticketCategory" name="ticketCategory">
                <option value="0">Infraestrutura e redes</option>
                <option value="1">Suporte ao usu√°rio</option>
                <option value="2">Aplica√ß√µes</option>
                <option value="3">Seguran√ßa da informa√ß√£o</option>
                <option value="255">Outros</option>
            </select>

            <label class="field-label" for="ticketDescription">Descri√ß√£o</label>
            <textarea class="field" rows="4" id="ticketDescription" name="ticketDescription" placeholder="Descreva o problema com o m√°ximo de detalhes..." required></textarea>

            <label class="field-label">Prioridade</label>
            <div class="chips" id="ticketPriorityChips">
                <button type="button" class="chip chip-active" data-priority="1">Baixa</button>
                <button type="button" class="chip" data-priority="2">M√©dia</button>
                <button type="button" class="chip" data-priority="3">Alta</button>
            </div>

            <label class="field-label" for="ticketSla">SLA alvo (opcional)</label>
            <input class="field" type="datetime-local" id="ticketSla" name="ticketSla" />

            <p class="ai-hint">
                üí° A IA ir√° sugerir poss√≠veis solu√ß√µes automaticamente ap√≥s o envio.
            </p>

            <!-- Consentimento expl√≠cito para LGPD -->
            <label class="consent-label" for="ticketConsent">
                <input type="checkbox" id="ticketConsent" name="ticketConsent" />
                <span>
                    Autorizo o tratamento dos dados pessoais deste chamado conforme a Pol√≠tica de Privacidade
                    e entendo que posso exportar ou excluir as informa√ß√µes a qualquer momento.
                </span>
            </label>
            <small class="privacy-hint">
                Os dados s√≥ ser√£o registrados mediante consentimento e podem ser removidos pelos controles de privacidade.
            </small>
        <footer class="modal-footer">
                <button class="btn ghost" type="button" id="btnCancelarModal">Cancelar</button>
                <button class="btn primary" type="submit" id="btnCriarChamado" disabled>Salvar chamado</button>
            </footer>
        </form>
    </div>
</div>

<script type="module" src="ui/script.js"></script>
</body>
</html>
